"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.postsRouter = void 0;
const express_1 = require("express");
const create_post_controller_1 = require("./controllers/create-post.controller");
const get_posts_controller_1 = require("./controllers/get-posts.controller");
const find_post_controller_1 = require("./controllers/find-post.controller");
const delete_post_controller_1 = require("./controllers/delete-post.controller");
const put_post_controller_1 = require("./controllers/put-post.controller");
const create_post_comment_controller_1 = require("./controllers/create-post-comment.controller");
const get_post_comments_controller_1 = require("./controllers/get-post-comments.controller");
const post_validators_1 = require("./middlewares/post.validators");
const post_comment_validators_1 = require("./middlewares/post-comment.validators");
const admin_middleware_1 = require("../../global-middlewares/admin.middleware");
exports.postsRouter = (0, express_1.Router)();
exports.postsRouter.post('/', ...post_validators_1.postValidators, create_post_controller_1.createPostController);
exports.postsRouter.get('/', get_posts_controller_1.getPostsController);
exports.postsRouter.get('/:id', find_post_controller_1.findPostController);
exports.postsRouter.delete('/:id', admin_middleware_1.adminMiddleware, post_validators_1.findPostValidator, delete_post_controller_1.deletePostController);
exports.postsRouter.put('/:id', ...post_validators_1.putValidators, put_post_controller_1.putPostController);
exports.postsRouter.post('/:postId/comments', ...post_comment_validators_1.postCommentValidator, create_post_comment_controller_1.createPostCommentController);
exports.postsRouter.get('/:postId/comments', post_comment_validators_1.findPostsValidator, get_post_comments_controller_1.getPostCommentsController);
