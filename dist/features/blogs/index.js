"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.blogsRouter = void 0;
const express_1 = require("express");
const create_blog_controller_1 = require("./controllers/create-blog.controller");
const get_blogs_controller_1 = require("./controllers/get-blogs.controller");
const find_blog_controller_1 = require("./controllers/find-blog.controller");
const delete_blog_controller_1 = require("./controllers/delete-blog.controller");
const put_blog_controller_1 = require("./controllers/put-blog.controller");
const blog_validators_1 = require("./middlewares/blog.validators");
const admin_middleware_1 = require("../../global-middlewares/admin.middleware");
const create_blog_post_controller_1 = require("./controllers/create-blog-post.controller");
const get_blog_posts_controller_1 = require("./controllers/get-blog-posts.controller");
exports.blogsRouter = (0, express_1.Router)();
exports.blogsRouter.post('/', ...blog_validators_1.blogValidators, create_blog_controller_1.createBlogController);
exports.blogsRouter.get('/', get_blogs_controller_1.getBlogsController);
exports.blogsRouter.get('/:id', blog_validators_1.findBlogValidator, find_blog_controller_1.findBlogController);
exports.blogsRouter.delete('/:id', admin_middleware_1.adminMiddleware, delete_blog_controller_1.deleteBlogController);
exports.blogsRouter.put('/:id', blog_validators_1.findBlogValidator, ...blog_validators_1.blogValidators, put_blog_controller_1.putBlogController);
exports.blogsRouter.post('/:blogId/posts', ...blog_validators_1.createBlogPostValidator, create_blog_post_controller_1.createBlogPostController);
exports.blogsRouter.get('/:blogId/posts', blog_validators_1.findBlogPostValidator, get_blog_posts_controller_1.getBlogPostsController);
